<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Game | Seshbot Programs]]></title>
  <link href="http://seshbot.com/blog/categories/game/atom.xml" rel="self"/>
  <link href="http://seshbot.com/"/>
  <updated>2014-06-01T00:32:24+09:00</updated>
  <id>http://seshbot.com/</id>
  <author>
    <name><![CDATA[Paul Cechner]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Week in review: Porting to Qt/QML with OpenGL]]></title>
    <link href="http://seshbot.com/blog/2014/05/16/week-in-review-c-plus-plus/"/>
    <updated>2014-05-16T09:56:26+09:00</updated>
    <id>http://seshbot.com/blog/2014/05/16/week-in-review-c-plus-plus</id>
    <content type="html"><![CDATA[<p><em>So I took a month holiday, and got out of the habit of writing blogs&hellip; hopefully this will break the dam, it&rsquo;s not like I don&rsquo;t have a billion things to write about</em></p>

<p><em>Initial version only! I will add pics soon</em></p>

<p>Over the last many weeks I have been ploughing through a whole lot of new stuff I&rsquo;ve never used before. As mentioned in my last post I decided to up the graphics a bit, but specifically I wanted to figure out a system for a extensible UI for menus and other 2D overlays, and 3D or pseudo-3D graphics. Creating a decent UI controls library I have learned is very difficult (if kind of fun to be honest.) Making something that is flexible enough to automatically layout your controls in a sensible way where everything resizes based on the
content contained within is a very difficult problem that nobody should have to re-solve in this day and age. So I wanted to re-use one that I also wanted to learn for myself.</p>

<p>In order to add these to my existing framework I took on the (it turns out) monumental task of learning OpenGL and integrating it with Qt/QtQuick/QML.</p>

<p>So far things are looking OK, but I have found the learning curve greater than I&rsquo;d originally anticipated &ndash; OpenGL in particular is a rabbit warren of deprecation and messy global state idioms. That said, I currently have:</p>

<ul>
<li>the UI menu/control system is entirely QML based and very simple to extend and use</li>
<li>the game terrain is constructed using <a href="http://www.volumesoffun.com/polyvox-about/">PolyVox</a> because I wanted to avoid having to figure out mesh generation along with all this other stuff</li>
<li>the OpenGL shaders incorporate basic lighting and not much else</li>
</ul>


<p>The main value I&rsquo;ve gained is a fairly decent understanding of what it takes to create modern OpenGL applications (though how useful that knowledge is in this day and age I am not sure.) I have not tried porting any of this across to Windows yet (I&rsquo;ve written it all in OSX) but hopefully the fact that I&rsquo;m using entirely cross-platform technologies will help a little there &ndash; though Windows is known to have very dodgy OpenGL support so I suspect that will be the cause of most of my porting
troubles.</p>

<!-- more -->


<h2>The Qt Stack</h2>

<p>I&rsquo;ve always been interested in <a href="http://qt-project.org/">Qt</a> &ndash; I don&rsquo;t know of any more highly polished user interface libraries for C++ out there, and they&rsquo;ve been producing really interesting technologies out that seem like they were created by people who actually understand C++. As a developer who opted to buy in to the Microsoft WPF UI framework, I find the QtQuick and QML libraries to be thoroughly refreshing and intuitive.</p>

<p>QML is a clean and simple markup language for writing user interfaces in a declarative fashion. The most apparent advantages over WPF for me were that the syntax is not XML based and that the property bindings may be declared in javascript, within which any properties are automatically dynamically bound so that property updates are detected and cascade automatically through the entire scene graph. In addition to that, the C++ to QML binding mechanism entirely leverages the Qt
metadata system that they&rsquo;ve tooled out and honed over the last more-than-a-decade, so everything just seems to work!</p>

<h3>QML basics</h3>

<p>Here&rsquo;s a simple QML example:</p>

<p>```javascript Simple QML example
import QtQuick 1.0</p>

<p>Rectangle {
   width: 200
   height: 200
   color: &ldquo;blue&rdquo;</p>

<p>   Image {</p>

<pre><code>  source: "pics/logo.png"
  anchors.centerIn: parent
</code></pre>

<p>   }
}
```</p>

<p>C++ QML components are essentially just regular C++ classes that use the Qt metadata system to expose properties, signals and slots &ndash; there really is no special QML magic required. These types are exposed to the QML engine through a single C++ commmand <code>qmlRegisterType&lt;MyCoolControl&gt;("com.seshbot", 1, 0, "CoolControl");</code>. This can then be consumed from within your QML by first <code>import com.seshbot 1.0</code> and then declaring your <code>CoolControl { }</code> just like the <code>Rectangle</code> in the above example.
All properties declared in the C++ class are immediately available from within QML &ndash; any changes made from the QML file will automatically call your setters, and any updates from within your C++ class will automatically propogate out to the QML file. MAGIC!</p>

<h3>QML with OpenGL</h3>

<p>As of Qt Quick 2.0, QML internally uses OpenGL to do all its own rendering so rendering your own OpenGL should theoretically not be too difficult. In fact, check out this <a href="https://www.youtube.com/watch?v=P4kv-AoAJ-Q">awesome demo</a> of a guy messing with an OpenGL shader in QML in real time. In the end however it took a few weeks to iron out, largely because this technology is pretty new and still has some kinks, and is not well documented yet (at least the stuff I wanted to do.)</p>

<p>There are three ways I know of putting your OpenGL content into a QML scene:</p>

<ul>
<li>create a custom Qt control that does all the OpenGL stuff internally and include that control in your <code>QtQuickView</code></li>
<li>extend <code>QtQuickView</code> and do the OpenGL stuff in its constructor</li>
<li>rendering your OpenGL to a frame buffer and having Qt inject that into its own layout. This is what <a href="http://advancingusability.wordpress.com/2013/03/30/how-to-integrate-ogre3d-into-a-qt5-qml-scene/">Ogre integration</a> does, but I haven&rsquo;t explored this</li>
</ul>


<p>There&rsquo;s not much difference between the two approaches &ndash; I went with the second because creating a control that is invoked from QML raises questions of how you inject your game state into the view. I wanted to just pass my game data into the constructor.</p>

<p>The Qt libraries come with an example called &lsquo;Scene Graph &ndash; OpenGL under QML&rsquo; that I found very helpful.</p>

<p>I did encounter a few problems:</p>

<ul>
<li>the QtQuick Controls library (which provides native-looking controls you can use in your QML files) don&rsquo;t seem to work with OpenGL versions older than OpenGL 4. After consulting the Qt guys on their IRC channel (#qt-quick on freenode) I <a href="https://bugreports.qt-project.org/browse/QTBUG-38817">filed a bug</a>, so hopefully it will be addressed in future versions.</li>
<li>my specialised QtQuickView class (that renders my game in the background under the QML stuff) didn&rsquo;t want to render any of my immediate mode OpenGL code &ndash; this is probably OK because immediate mode has been deprecated since version 1. (more on OpenGL versions and immediate mode and such in the future!)</li>
<li>all of the demos use older versions of OpenGL (probably to minimise compatability issues on Windows) so I had a bunch of surprises when I tried modernising it (basically had to learn each version of OpenGL as I progressed)</li>
</ul>


<p>The Qt quick guys are on the #qt-quick IRC channel around 9pm japan time by the looks, so that&rsquo;s generally the best time to get live help if you need it.</p>

<h2>OpenGL</h2>

<p>My god, OpenGL is a mess. Each version of OpenGL (there are 4) seemed to deprecate the old way of doing things and introduce entirely new idioms:</p>

<ul>
<li>OpenGL 1 was all about &lsquo;immediate mode&rsquo; because there were no shaders yet. You just tell OpenGL (in your C++ code) where the primitives and lights are and it takes care of all the rendering details</li>
<li>OpenGL 2 introduced the GLSL shader language for writing &lsquo;vertex&rsquo; and &lsquo;fragment&rsquo; shaders. This was a huge step forward in performance because you pipe all your vertex data into the graphics card in one go, but it meant that you have to do all the lighting and model/view/perspective transformations yourself in the shader. This makes it a lot harder to pick up for newbies.</li>
<li>OpenGL 3 totally messed with the GLSL syntax, and added the notion of vertex buffer objects (VBOs) which I found out are <em>mandatory</em> to use although nothing will warn you if you do not use them. Things just wont show up. Also there is a new type of shader &ndash; the &lsquo;geometry&rsquo; shader.</li>
<li>OpenGL 4 introduced the &lsquo;tessellation&rsquo; shader. I have no idea what that does yet as I have not started down the OpenGL 4 road.</li>
</ul>


<p>In addition to this, Windows only natively supports OpenGL 1, because they follow their whole DirectX thing. You can ask your users to upgrade their video drivers, or you can use an OpenGL &ndash;> DirectX translation layer to get around this problem (Qt apparently offers optional compatability via Googles <a href="https://code.google.com/p/angleproject/">ANGLE</a> library.)</p>

<p>Plus, any platform may support any number of &lsquo;extensions&rsquo; which provide capabilities on top of the &lsquo;core&rsquo; functionality offered by that OpenGL version. A good application will check the availability of all extensions they are using, which seems like a massive hassle to me at this point. Theres a library called the GL Extension Wrangler (GLEW) thats supposed to help with this, and Qt has its own set of helpers to ensure that youre only able to invoke functionality thats actually provided by
your chosen GL version.</p>

<p>Oh, there are also the &lsquo;embedded&rsquo; versions of OpenGL &ndash; OpenGL ES. These are apparently much smaller and well supported so I think I will migrate towards using some OpenGL ES version in the near future &ndash; probably OpenGL ES 2.0, which is supposed to be compatible with OpenGL 4.1 I believe.</p>

<p>In general I&rsquo;d say stay away from writing your own graphics drivers at this level &ndash; use higher level stuff that abstracts your OpenGL vs DirectX decisions from you. I went with OpenGL because I was suffering the delusion that it would make my experience with my QML layer simpler, but looking at the incompatabilities and weird differences between platforms I can see a lot of trouble in my future if I continue down this route.</p>

<p>I plan to write a more thorough map of the path I took through this so that hopefully others do not have to make the same mistakes I did.</p>

<h2>PolyVox voxel mesh generation</h2>

<p>I didn&rsquo;t want to also have to figure out how to generate meshes for my game at this point, so I decided to go with a library that allows the easy generation of voxel meshes.</p>

<p>PolyVox is actively being developed by a couple of pretty smart guys. A lot of it has the feel of a university thesis project, but it seems to work quite well, which is the most important thing. Most helpfully for me, they seem to be writing their examples using Qt in Windows and Linux, so I can learn from their mistakes with OpenGL on Windows (something I&rsquo;ll have to do soon.)</p>

<p>I plan to try generating some models in Blender and use something like <a href="http://assimp.sourceforge.net">AssImp</a> to import them into my game soon.</p>

<h2>General application design</h2>

<p>I really want to put my stuff on github but I&rsquo;m finding myself a bit recalcitrant on that front, because its still got so much half-baked experimental stuff in it. I will push myself to do it soon however because I&rsquo;d like to link to parts of the code when writing these blog posts.</p>

<p>It was somewhat satisfying to realise that all of the changes and work I&rsquo;ve done in the last couple of months has had no effect on the core modules I established for the 2D version of my game. All the terrain and entity management, along with the core module message passing mechanisms have remained the same.</p>

<p>I spent some time discovering an intuitive way to describe my 3D scene for rendering in OpenGL (i.e., for encapsulating all the OpenGL buffers, shader programs and shader program attribute bindings.) Of course this has been done many times before but OpenGLs &lsquo;stateless&rsquo; approach (or whatever they call having to bind your objects to global state) makes this a challenge.</p>

<p>The fundamental types in my scene description are:</p>

<ul>
<li><code>camera</code> encapsulates the perspective and view matrices (mapping world-space coordinates to pixels in the view). This has a <code>render()</code> method which tells the <code>scene</code> to render itself using this camera&rsquo;s view data</li>
<li><code>scene</code> contains all the entities and light data that may be rendered into the view, as well as the active shader program. The scene invokes each <code>entity</code>s <code>render()</code> method</li>
<li><code>entity</code> encapsulates a <code>model</code> that is to be rendered as well as the model matrix which maps the mesh from local &lsquo;model coordinates&rsquo; into the world coordinates, oriented the correct way and all that jazz</li>
<li><code>model</code> encapsulates all the buffers and VBOs required to render a mesh</li>
</ul>


<p>My system is also pretty dynamic &ndash; changes to the shader program files on disk immediately cause the application to re-compile and start using the new shader in the application, which helps speed things up on occasion.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Week in Review: Making Games]]></title>
    <link href="http://seshbot.com/blog/2014/02/22/week-in-review-making-games/"/>
    <updated>2014-02-22T10:35:00+09:00</updated>
    <id>http://seshbot.com/blog/2014/02/22/week-in-review-making-games</id>
    <content type="html"><![CDATA[<p>I have once again bitten off a whole lot &ndash; I started making a game based on my fairly limited knowledge of how such things are done, and have found it very difficult to take a moment to distill my thoughts. In fact it has been nearly impossible as I have been constantly unsure of whether the approach I&rsquo;m taking is actually going to pay off in the long run!</p>

<p>This is just a catch-up on my experiences over the last few weeks, a few discoveries and surprises, and perhaps my plans for the immediate future. I decided at the last moment to include a screenshot here, but I&rsquo;m sure we&rsquo;ve all seen brown circles on green backgrounds before&hellip;</p>

<p><img src="/images/upload/2014-02-22-game-screenshot.png" title="&ldquo;This is a 100m section of a 10km world&rdquo;" ></p>

<p>I also created a (low framerate) <a href="/images/upload/2014-02-22-game-early.gif">animated gif</a> of this in action.</p>

<!-- more -->


<p></p>

<h2>Making a game/engine</h2>

<p>The general advice people give new game developers is to never make a game engine &ndash; focus on just getting your game concept out. I will largely be ignoring this advice because I don&rsquo;t have a specific idea for a game yet, just a general notion that it will be client/server and a kind of town-builder. Based on this alone I believe that careful work now will be necessary to ensure the scale of the world I have in mind will be possible &ndash; the virtual world will almost certainly need
geo-spatial partitioning to ensure location-based entity lookups and collision detections can be performed in decent time, and because only a small portion of the virtual world will likely be viewed, and likely only viewed in a separate client application altogether, there is no reason to have the core game logic mixed in with rendering logic at all.</p>

<h3>Modularity and the basic framework</h3>

<p>I intend to write a separate article on this, but first a quick rundown on my PCX library. I actually spent a lot of time trying to bring some of the nicer IOC container abstractions I&rsquo;ve grown used to in .Net and Java to my C++ environment. Breaking an application up into abstract services is a great way to ensure minimal coupling and well designed boundaries around modules of code. This usually involves a lot of reflection in newer languages. My solution in C++ involves run-time type identification (RTTI) which is generally considered anathema in C++, but it can facilitate the creation of libraries that deal in terms of interdependent types, and have nothing to do with the functionality of those types per se.</p>

<p>I decided on these core high-level abstractions:</p>

<ul>
<li><em>services</em> are the core contracts that different sections of code use to communicate with each other. If you want to work with the weather, get yourself a hold of the weather service</li>
<li><em>commands</em> are messages sent into the application as a whole from outside &ndash; services can advertise which commands they can respond to, and the client application can bind keys or whatever to these commands. This abstraction is probably more focused on games</li>
<li><em>modules</em> provide concrete implementations of a bunch of specifically configured services and expose commands. The application mainline only interacts with modules &ndash; it starts them up and shuts them down, and the modules provide all the functionality of the application</li>
<li><em>message bus</em> provides singleton channels for application-wide cross-cutting concerns. I have not yet found a particular use for this, but intend to use it for sending &lsquo;hints&rsquo; out that have no true affect on the state of the application, such as <em>dump debug information now</em>.</li>
</ul>


<p>The central idea is that different abstract concepts such as geography, creature behaviour, economy, weather, client UI etc are all provided by separate modules. When started up, a module can publish services they provide and consume services provided by other modules via a &lsquo;service locator&rsquo;. It is very important that the &lsquo;service locator&rsquo; is only used by the high-level module code directly to ensure they&rsquo;re not used to hide globals and introduce crazy interdependencies. The module creation
mechanism provides a fluid dependency syntax that ensure each module is initialised after the modules on which it depends (i.e., publishes services which this module consumes.)</p>

<p>I created a core library (I named <code>pcx</code> after my own initials and the letter &lsquo;x&rsquo; which is super cool) that I intend to be useful as a general-purpose C++ library for anyone wanting to add these concepts to their own application.</p>

<h3>Deciding on core abstractions</h3>

<p>I&rsquo;ve been thinking about making a game for a long long time now, and have had a myriad of thoughts on how I would create all the major abstractions, modularise the code, and manage multiple clients, network latency, sharding, etc. But when I actually sat down and put hands to keyboard, the first problems I ran into were hugely and unexpectedly daunting &ndash; how should position and rotation be stored? And time? Should position be a vector of floating point numbers or integers? And
should velocity be another vector, or polar coordinates (rotation and magnitude). Should rotation be implicit from velocity, or should entities be able to face one direction but move in another?</p>

<p>These are all decisions that will affect the application in almost every way, and doubtless create deep-seeded performance and functionality trade-offs, and as this is my first game I wasn&rsquo;t really sure what those might be. For example, if I choose to represent velocity as a vector (x, y components), then I lose the ability to determine the direction a stationary unit is facing ([0,0] gives no information in that aspect). Polar coordinates do not suffer this problem however. But the
calculation for moving an entity with cartesian vector velocities is so trivial! Just <code>newPos = pos + velocity * time</code>&hellip; It&rsquo;s very tempting to go with that!</p>

<p>And if I store latitude/longitude of an entity as floating point numbers, I expect I might run into rounding problems with entities far from the origin point. Or when comparing entities close to the origin with those far from the origin. But floating point numbers allow me to say &lsquo;all distances are in meters&rsquo; which makes thinking about and configuring the application that much easier for me.</p>

<p>In the end I kind of arbitrarily chose to store locations and velocities as vectors of doubles, and will probably store a &lsquo;facing direction&rsquo; as a float in radians. Real-time time is likewise a double, indicating fractions of a second. I have not yet implemented any concept of in-game time however.</p>

<h3>Discovering engine capabilities</h3>

<p>I quickly found it very important to keep a close eye on the performance impact of all my decisions as well. It was quite exciting to get my original simple framework up (a &lsquo;world&rsquo; module that holds all the entities and their locations/momentums in the game) and determine the maximum number of visible entities it could support. I found it started dropping frames at around 40,000 moving entities in the world, but I quickly realised however that I have no idea what a good number is &ndash; how many entities <em>should</em> it be able to support?</p>

<p>Most engines I&rsquo;ve looked at (e.g., Quake and Source engines) suport the low 1000&rsquo;s of entities, but most of those are client-only frameworks. I couldn&rsquo;t find a lot of info on MMOs (not that I&rsquo;m making an MMO but I would like to get a feel for scale), and could only find indirect references to EVE online supporting <a href="http://www.gamasutra.com/view/feature/132563/infinite_space_an_argument_for_.php?page=2">up to 30K entities in some of their major battles</a>, but they apparently do all sorts of crazy stuff to support that such as slowing down time and moving entities not directly involved out onto other shards.</p>

<p>In the end it&rsquo;s all moot however, as my game is still very trivially implemented and is not a real-world example of how it will eventually work. For one, all moving entities in the world just walk in an anti-clockwise circle and don&rsquo;t look at the world around them (this will add a lot of complexity to say the least!). Secondly, the game currently updates every entity in the game 60 times per second. I should definitely make entities further from the player &lsquo;stupider&rsquo; and less
frequently updated, and there is actually no good reason to update all entities 60 times per second anyway &ndash; that number was chosen because that is the framerate of the GUI and I have currently tightly bound the world update logic to the core game loop. I will be decoupling these soon.</p>

<p>I have found it&rsquo;s very interesting to keep a good feel for the performance of the application as I work on its foundation &ndash; every time I make a significant modification I run it with varying conditions and check how it performs relative to previous iterations. This has led to some interesting discoveries regarding performance of iterators and iterator adapters, and some very puzzling edge-cases where the Clang optimiser seems to suddenly start borking. But more on that some other time.</p>

<p>The &lsquo;modules&rsquo; abstraction is really helpful in monitoring performance &ndash; the core game loop just iterates over each module, effectively saying <code>for each module m, m.update(timeSinceLastUpdate)</code>. I put a basic metrics counter around this tight loop and get some pretty useful output that shows how many milliseconds each module consumes per tick:</p>

<p><code>bash Stats are dumped to standard output ever second
Job time accumulations in 1000ms:
 -               client - 60 ticks, avg: 0ms max: 0 total: 0ms (0%)
 -                 mobs - 60 ticks, avg: 0ms max: 3 total: 9ms (27%)
 -                props - 60 ticks, avg: 0ms max: 0 total: 0ms (0%)
 -                world - 60 ticks, avg: 0ms max: 0 total: 23ms (72%)
 -      render entities - 58 ticks, avg: 5ms max: 8 total: 339ms
 -   update all modules - 58 ticks, avg: 0ms max: 3 total: 33ms
</code></p>

<p>From this output it is obvious that the &lsquo;render entities&rsquo; step is taking a long time &ndash; I should really investigate this!</p>

<h3>C++ development experiences</h3>

<p>Regarding the choice of C++ as a language, it is sometimes a boon and often times a bane. The absolute major pain I&rsquo;m trying to avoid is massive compile and link times. These can only be mitigated through careful control of modularity and inter-dependencies. This is something one should struggle to achieve in any case, but it is constantly undermined by the use of templates and libraries that use templates.</p>

<p>And the Eigen C++ matrix library seemed like a good choice, but it comes with a harrying legacy &ndash; it prefers to use special high-performance instruction sets available on some machines that require your objects to be defined in a certain way (with special alignment specifications when memory is allocated.) These are known as <a href="http://eigen.tuxfamily.org/dox-devel/group__TopicFixedSizeVectorizable.html">fixed-sized vectorisable</a> types and can cause segmentation faults if used incorrectly. Fixed-size vectorisable types cannot be passed by-value to functions or methods, and all classes that contain
such types must themselves specially override the <em>new</em> operator to ensure these alignment requirements are maintained. And STL classes that contain these types must take this into account, so Eigen provides its own implementation of the STL vector that you must use. PLUS all of these restrictions apply to types that you create that have eigen members, and I think also to classes that aggregate THOSE types! It is a huge pain in the ass if you like creating abstract interfaces, to say the least.</p>

<p>I suspect that Eigen will cause all sorts of problems when I move to Windows, so I want to try that out sooner rather than later. The special vectorisation can be disable at compile time but I&rsquo;d rather see if it causes problems first.</p>

<h2>Qt Creator and CMake</h2>

<p>I was originally going to go with XCode for development on OSX &ndash; I&rsquo;d really love to learn how to use that well as it seems quite different to most other editors and not intuitive for me. Ultimately however I decided against it because it doesn&rsquo;t work well with CMake (I think I would have to constantly be re-loading the project) and, at the time anyway, I was thinking that I really wanted to work with QT Quick and other Qt technologies.</p>

<p>So I decided to go with Qt Creator as a development IDE. It is certainly a huge pleasure to use, and has more than the usual amount of high-level functionality one would expect in a C++ development environment. As a bonus it has fairly decent integration with CMake &ndash; the only missing aspect here is that it doesn&rsquo;t allow you to easily add files to your CMake project, but I have made a few tools that allow me to do this easly from the command prompt (more below.)</p>

<p>The main problem I&rsquo;ve had so far is that in order to use the latest C++11 functionality I went with Clang over GCC as a compiler. While Qt Creator supports this, it still seems to try to use the GDB and GProf etc for debugging and profiling, which don&rsquo;t work with Clang. I am going to spend some time soon figuring out how to fix this, but it seems to involve creating a new &lsquo;kit&rsquo; that defines which dev tools the IDE should invoke. It seems complicated however&hellip;</p>

<h2>OSX Development</h2>

<p>I really enjoy working on OSX &ndash; it has all the goodness of a good linux development environment along with some really smooth apps.</p>

<p>One of the worst aspects of Windows development is the extremely weak command line environment. The history of the command line shell (MS-DOS prompt) still seems mired in its QDOS (Quick and Dirty Operating System) origins from the very early &lsquo;80s. While it supports basic pipes and has a few commands like <code>find</code> and&hellip; erm&hellip; anyway, while it has some limited functionality available, it is not a scratch on the highly evolved GNU/Linux environment that has been continually improved over
the last 30 years or so. If you want a tool that does anything moderately complex in Windows you need to find one on the internet generally, whereas in Linux there is no limit to what can be accomplished with <code>sed</code>, <code>grep</code>, <code>find</code>, <code>cut</code>, <code>awk</code>, <code>tr</code> and the like.</p>

<p>For instance, one real annoying aspect of C++ development for me has always been the relative difficulty of creating new projects. Java IDEs can easily provide the ability to create new projects and packages through a simple right-click in your project tree, because Java is very opinionated about where such files go. C++ just requires the symbols to <em>exist</em> at link time, so they could come from anywhere, and there are limitless conventions about how to manage header files in your filesystem.</p>

<p>I have my own conventions for managing my hierarchy of source and header files, and decided to create template projects and modules (my own abstraction for this project) and create shell scripts that allow me to set up entirely new projects with a simple <code>x.new-module thing Thing</code>, which will create all the necessary headers, source files and CMake files, with default sensible names and namespaces, and include them into my current project. This would have been a nightmare to put together
in Windows but has been trivial in OSX.</p>

<h2>Next steps</h2>

<p>I recently added the all-important geo-spatial partitioning in a very simple way, but this seemed to cause some significant performance penalties. I have decided to take the plunge and figure out how to get the profiler working properly with Qt Creator to help me investigate this, because working on a large project without a profiler is like driving a car with a map but no windows &ndash; it&rsquo;s hard to tell if you&rsquo;re still on the road.</p>

<p>I really want to get some graphics in there but I have no experience with that, so am considering messing around with shaders to see if I can get a good lighting model in there first. This should really help me figure out the environmental aesthetic I&rsquo;m going for.</p>

<p>At some stage I&rsquo;ll need to figure out how I&rsquo;m going to make the game overlays such as menus, dialogs, text boxes etc. Previously I&rsquo;ve used SFGUI (works well with SFML which is the C++ GUI library I&rsquo;m using) but I would like to see if I can get QT Quick and QML working with SFML. I don&rsquo;t want to spend too long on this however because I intend to move the GUI code to perhaps another language (C# and Unity) so effort spent on the GUI might be ultimately wasted.</p>
]]></content>
  </entry>
  
</feed>
